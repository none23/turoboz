function loadPage(e){return cache[e]?new Promise(function(n){n(cache[e])}):fetch(e,{method:"GET"}).then(function(n){return cache[e]=n.text(),cache[e]})}function changePage(){var e=window.location.href;loadPage(e).then(function(e){var n=document.createElement("div");n.innerHTML=e;var t=document.querySelector(".page_content_wrap"),a=n.querySelector(".page_content_wrap");page_wrap.appendChild(a),animate(t,a)})}function animate(e,n){var t=(e.animate({opacity:[1,0]},150),n.animate({opacity:[0,1]},300));t.onfinish=function(){e.parentNode.removeChild(e)}}var cache={},page_wrap=document.querySelector(".page_wrap");window.addEventListener("popstate",changePage),document.addEventListener("click",function(e){for(var n=e.target;n&&!n.href;)n=n.parentNode;if(n)return"_blank"==n.target?void 0:n.href.includes("tel:")?void 0:n.href.includes("mailto:")?void 0:(e.preventDefault(),history.pushState(null,null,n.href),void changePage())});