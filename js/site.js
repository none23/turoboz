"use strict";function mobileNav(){var e=document.getElementById("mobile_nav_toggle"),t=document.getElementById("mobile_nav");e.addEventListener("click",function(n){n.preventDefault(),e.classList.toggle("is_open"),t.classList.toggle("is_open")})}function activeNavLink(){for(var e=document.getElementById("site_header").getElementsByClassName("site_nav__link"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){document.querySelector(".site_nav__link.active").classList.remove("active"),e.target.classList.add("active"),document.activeElement.blur()})}function callBackFormToggle(){var e=document.getElementsByClassName("call_back_form__toggle"),t=document.getElementById("call_back_form__wrap"),n=document.querySelector("#site_contacts_wrap .call_back_form__toggle"),a=!0,o=!1,c=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;l.addEventListener("click",function(e){n&&n.classList.toggle("is_open"),t.classList.toggle("is_open"),t.classList.contains("is_open")&&document.getElementById("call_back_form__name").focus(),e.preventDefault()})}}catch(e){o=!0,c=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw c}}}function enableCallBackForm(){var e,t,n;e=document.getElementById("call_back_form"),e&&(n="Форма успешно отправлена! Мы свяжемся с Вами в ближайшее время.",t=document.getElementById("call_back_form__button"),e.addEventListener("submit",function(a){return iSendAJAX(a,e,t,n)}))}function enableContactForm(){var e,t,n;e=document.getElementById("contact_form"),e&&(n="Форма успешно отправлена! Мы свяжемся с Вами в ближайшее время.",t=document.getElementById("contact_form__button"),e.addEventListener("submit",function(a){return iSendAJAX(a,e,t,n)}))}function enableReviewForm(){var e,t,n;e=document.getElementById("review_form"),e&&(n="Спасибо! Отзыв принят и будет опубликован после проверки.",t=document.getElementById("review_form__button"),e.addEventListener("submit",function(a){return iSendAJAX(a,e,t,n)}))}function enableOrderForm(){var e,t,n;e=document.getElementById("order_form"),e&&(n="Форма успешно отправлена! Мы свяжемся с Вами в ближайшее время для уточнения деталей.",t=document.getElementById("order_form__button"),e.addEventListener("submit",function(a){return iSendAJAX(a,e,t,n)}))}function iSendAJAX(e,t,n,a){var o,c,r;return e.preventDefault(),c={},c.loading="Отправка...",c.success=a,c.failure="Возникла ошибка при отправке.",r=new XMLHttpRequest,r.open("POST","//formspree.io/n.anisimov.23@gmail.com",!0),r.setRequestHeader("accept","application/json"),o=new FormData(t),r.send(o),r.onreadystatechange=function(){r.readyState<4?(n.innerHTML=c.loading,n.className="form__button--loading"):4===r.readyState&&(200===r.status&&r.status<300?(n.innerHTML=c.success,n.className="form__button--success"):t.insertAdjacentHTML("beforeend",c.failure))}}!function(){window.addEventListener("DOMContentLoaded",function(){mobileNav(),callBackFormToggle(),enableCallBackForm(),enableContactForm(),enableReviewForm(),enableOrderForm(),activeNavLink()})}();