{ "name": "turoboz"
, "version": "1.8.0"
, "description": "Turoboz website"
, "babel": { "presets": [ "es2015" ] }
, "dependencies": { "autoprefixer": "^6.5.3"
                  , "autoprefixer-stylus": "^0.11.0"
                  , "babel-cli": "^6.14.0"
                  , "babel-core": "^6.14.0"
                  , "babel-polyfill": "^6.13.0"
                  , "babel-preset-es2015": "^6.14.0"
                  , "concurrently": "^2.2.0"
                  , "contentful": "^3.6.4"
                  , "csso": "^2.3.0"
                  , "emoji-strip": "^0.0.3"
                  , "eslint": "^3.11.0"
                  , "eslint-config-nwsome": "^0.0.1"
                  , "jade": "latest"
                  , "jade-babel": "^5.0.0"
                  , "jade-cli": "^0.1.1"
                  , "js-yaml": "^3.6.1"
                  , "node-fetch":"^1.6.3"
                  , "postcss-cli": "^2.6.0"
                  , "remove-markdown": "^0.1.0"
                  , "request": "^2.75.0"
                  , "stylus": "^0.54.5"
                  , "uglify-js": "^2.7.3"
                  }
, "devDependencies":{ "autoprefixer-stylus": "^0.11.0"
                    , "browser-sync": "^2.14.0"
                    , "contentful-management": "^1.1.14"
                    , "standard": "^8.3.0"
                    , "html-validator-cli": "^2.0.0"
                    , "watch": "^1.0.1"
                    }
, "scripts": { "build": "concurrently 'npm run build:jade' 'npm run build:styles' 'npm run build:scripts'"
                 , "prebuild": "npm run fetch"
                 , "build:jade": "concurrently 'npm run build:jade:includes' 'npm run build:jade:layouts'"
                     , "build:jade:layouts": "jade -o _layouts/ _jadefiles/layouts/*.jade"
                         , "postbuild:jade:layouts": "echo 'layouts ready'"
                     , "build:jade:includes": "jade -o _includes/ _jadefiles/includes/*.jade"
                         , "postbuild:jade:includes": "echo 'includes ready'"
                     , "build:styles": "npm run build:styles:compile && npm run build:styles:prefix && npm run build:styles:minify"
                         , "build:styles:compile": "stylus -o _styles/unprefixed/site.css _styles/index/site.styl"
                         , "build:styles:prefix": "postcss --use autoprefixer --autoprefixer.browsers \"> 1%, last 4 versions, iOS > 6\" _styles/unprefixed/site.css -o _styles/unminified/site.css"
                         , "build:styles:minify": "csso _styles/unminified/site.css css/site.css"
                         , "postbuild:styles": "echo 'styles ready'"
                 , "build:scripts": "npm run build:scripts:compile && npm run build:scripts:uglify"
                     , "build:scripts:compile": "babel _scripts/es6 -d _scripts/js"
                         , "postbuild:scripts:compile": "echo 'scripts ready'"
                     , "build:scripts:uglify": "(cd _scripts/js && for file in *.js; do ( uglifyjs -c -m -o ../../js/$file $file); done)"
                         , "postbuild:scripts:uglified": "echo 'scripts minimized'"
                     , "build:images": "./generate-images"
                 , "build:jekyll": "bundle exec jekyll build"

                 , "postbuild": "npm run build:jekyll"

             , "watch": "concurrently 'npm run watch:jekyll' 'npm run watch:jade' 'npm run watch:styles' 'npm run watch:scripts' 'npm run watch:browser-sync'"
                 , "prewatch": "concurrently 'npm run build:jade' 'npm run build:styles' 'npm run watch:scripts:compile'"
                 , "watch:appcache": "sleep 5 && concurrently 'npm run watch:appcache:layouts' 'npm run watch:appcache:includes' 'npm run watch:appcache:css' 'npm run watch:appcache:js'"
                     , "watch:appcache:update": "echo '' >> turoboz.appcache"
                     , "watch:appcache:layouts": "watch 'npm run watch:appcache:update' _layouts"
                     , "watch:appcache:includes": "watch 'npm run watch:appcache:update' _includes"
                     , "watch:appcache:css": "watch 'npm run watch:appcache:update' css"
                     , "watch:appcache:js": "watch 'npm run watch:appcache:update' js"
                 , "watch:jekyll": "bundle exec jekyll build --watch --incremental"
                 , "watch:jade": "concurrently 'npm run watch:jade:includes' 'npm run watch:jade:layouts'"
                     , "watch:jade:layouts": "jade -o _layouts/ -w _jadefiles/layouts/*.jade"
                     , "watch:jade:includes": "jade -o _includes/ -w _jadefiles/includes/*.jade"
                 , "watch:styles": "stylus -w -u autoprefixer-stylus -o css/site.css _styles/index/site.styl"
                 , "watch:scripts": "watch 'npm run watch:scripts:compile' _scripts/es6 "
                     , "prewatch:scripts": "npm run watch:scripts:compile"
                     , "watch:scripts:compile": "babel _scripts/es6 -d js"
                 , "watch:browser-sync": "browser-sync start --server '_site' --port 3000 --files '_site/*/*' --no-open --no-notify"

             , "fetch": "npm run fetch:contentful && npm run fetch:vk"
                 , "fetch:contentful": "npm run fetch:tours && npm run fetch:news && npm run fetch:testim"
                     , "fetch:tours": "node fetch-contentful.js --tours"
                     , "fetch:news": "node fetch-contentful.js --news"
                     , "fetch:testim": "node fetch-contentful.js --testim"
                 , "fetch:vk": "node fetch-vk.js"

             , "autobuild": "concurrently 'npm run build:jade' 'npm run build:styles' 'npm run build:scripts'"
                 , "preautobuild": "npm run fetch"
                 , "postautobuild": "npm run build:jekyll"
             , "deploy": "netlify deploy"
                 , "predeploy": "npm run build"

             , "validate": "npm run -s validate:loop > _validation_report"
                 , "validate:loop": "for html in _site/{,/*,/*/*}/*.html; do echo $html; html-validator --file=$html; done"
             }
, "author": "none23"
, "license": "MIT"
, "repository": { "type": "git"
                , "url": "git+https://github.com/none23/turoboz.git"
                }
}
