@require '../stylusfiles/vars.styl'
// logo-animation {{{

@keyframes logo_animate_gray
    0%
        transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1)
    50%
        transform: rotateX(180deg) rotateY(180deg) rotateZ(180deg) scale(1.01)
    100%
        transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg) scale(1)

@keyframes logo_animate_gray_a
    0%
        transform: rotateY(0deg) rotateX(0deg) rotateZ(0deg) scale(1)
    50%
        transform: rotateY(180deg) rotateX(180deg) rotateZ(180deg) scale(1.01)
    100%
        transform: rotateY(360deg) rotateX(360deg) rotateZ(360deg) scale(1)

@keyframes logo_animate_gray_b
    0%
        transform: rotateX(0deg) rotateZ(0deg) rotateX(0deg) scale(1)
    50%
        transform: rotateX(180deg) rotateZ(180deg) rotateX(180deg) scale(1.01)
    100%
        transform: rotateX(360deg) rotateZ(360deg) rotateX(360deg) scale(1)

@keyframes logo_animate_blue
    0%
        fill: $turbo_blue
    33%
        fill: $turbo_darkblue
    50%
        fill: $turbo_blue
    67%
        fill: $turbo_blue
    83%
        fill: $turbo_mixblue
    100%
        fill: $turbo_blue

@keyframes logo_animate_brown
    0%
        fill: $turbo_brown
    17%
        fill: $turbo_brown
    33%
        fill: $turbo_darkbrown
    50%
        fill: $turbo_brown
    67%
        fill: $turbo_lightbrown
    100%
        fill: $turbo_brown

// /logo-animation }}}
// base {{{
a
    color: $body_fg
    text-decoration: none

    p &
        textLink()

img
    border: none

    &[jpg]
        pointer-events: none

input
textarea
    border-radius: $border-radius
    border: none

button
    appearance none
    border none
    border-radius: 0.125rem
    border-radius: $border-radius

// /base }}}
// site header {{{
#site_header
    background-image: url(/img/noise.png)
    background-size: 40px
    background-blend-mode: hard-light
    background-color: $site_nav_bg
    background-repeat: repeat
    box-shadow: 0 0 0.8rem -0.2rem $shadowy

// logo {{{
#site_logo
    color: transparent

    .logo_gray
        fill: $turbo_gray

    .logo_brown
        fill: $turbo_brown

    .logo_blue
        fill: $turbo_blue

#site_logo
    &:hover
    &:focus
        outline: none !important

        .logo_gray
        .logo_brown
        .logo_blue
            animation-duration: 2s
            animation-timing-function: linear
            animation-iteration-count: infinite
            transition: all 0.4s ease-out

        .logo_gray
            transform-origin: 1.52rem 1.50rem
            animation-name: logo_animate_gray

            &.logo_gray_a
                animation-name: logo_animate_gray_a
                animation-delay: 0.3s

            &.logo_gray_b
                animation-name: logo_animate_gray_b
                animation-delay: 0.6s

        .logo_brown
            animation-name: logo_animate_brown

        .logo_blue
            animation-name: logo_animate_blue

// /logo }}}
// contacts box {{{
.site_header__phone
    color: $site_contacts_phone_fg

.site_header__vk_button
    fill: $turbo_blue

.site_header__call-back
    color: $site_contacts_modal_opener_fg
    background: $site_contacts_modal_opener_bg
    border-radius: $border-radius
    transition: all 0.2s ease-in-out

    &:hover
    &:focus
        color: $site_nav_link_hover_fg
        background: $site_nav_link_hover_bg

    &:active
        color: $site_nav_link_hover_fg
        background: $site_nav_link_fg

    &.is_open
        color: white
        background: $site_nav_link_hover_bg
        opacity: .4

// /contacts box }}}
// site nav {{{

.site_nav__link
    color: $site_nav_link_fg
    transition: all 0.1s ease-in-out

    &:active
    &.active
    &.active:hover
    &.active:focus
        color: white
        background: $site_nav_link_fg
        box-shadow: 0 0.1rem 0.8rem -0.2rem $shadowy

    &:hover
    &:focus
        color: $site_nav_link_hover_fg
        background: $site_nav_link_hover_bg

// mobile nav {{{

#mobile_nav
    border-radius: 0 0 $border-radius $border-radius
    background: $mobile_nav_bg
    box-shadow: 0 0.063rem 0.875rem -0.25rem $shadowy

    .site_header__phone
        border-top: 0.063rem solid $site_contacts_phone_fg

    .site_header__vk_button
        fill: white
        background: $turbo_blue

// /mobile nav }}}
// mobile nav toggle {{{
.mobile_nav_toggle__svg
    transition: all 0.3s ease-out
    fill: $turbo_brown

.mobile_nav_toggle__svg__top_bar
    transform-origin: 0 0

.mobile_nav_toggle__svg__mid_bar
    transform-origin: 50% 50%

.mobile_nav_toggle__svg__bot_bar
    transform-origin: 0 100%

#mobile_nav_toggle.is_open
    .mobile_nav_toggle__svg__top_bar
        transform: translateX(10%) rotate(45deg)

    .mobile_nav_toggle__svg__mid_bar
        transform: rotateY(90deg)

    .mobile_nav_toggle__svg__bot_bar
        transform: translateX(10%) rotate(-45deg)

// /mobile nav toggle }}}
// /site nav }}}
// /site header }}}
// site footer {{{
#site_footer
    background-image: url(/img/blue.png)
    background-repeat: repeat
    background-blend-mode: color-dodge
    background-color: $site_footer_bg
    color: $site_footer_fg
    box-shadow: 0 0 0.5rem -0.063rem $shadowy

.footer-contact
    color: $site_footer_fg
    fill: @color

    &:hover
    &:focus
        color: $turbo_blue
        fill: @color

// /site footer }}}
// misc {{{

.page_wrap
    color: $body_fg
    background-image: url(/img/wall.png)
    background-repeat: repeat
    background-blend-mode: lightten
    background-color: $body_bg

.tooltip
    background: $turbo_blue
    border-radius: $border-radius
    color: white

.site-developer__link
    color: $turbo_mixblue

// /misc }}}
// blocks {{{
.block--textual
.block--textimg
.block--bullets
.block--gallery
.block--form
    background: white
    border-radius: $border-radius
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy

.block--textimg__image
    border-radius: $border-radius

// /blocks }}}
// tour cards {{{
.tour__card
    background: white
    border-radius: $border-radius
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy

.tour__length
    color: $turbo_brown

// tour cards }}}
// full_tour / full_post / full_vkpost pages {{{
// breadcrumbs {{{

.breadcrumb__label
    textLink($turbo_blue, nohover)

.breadcrumb__icon__svg
    fill: $turbo_blue

.breadcrumb
    transition: all 0.3s ease-in-out

    &:hover
    &:focus
        .breadcrumb__icon__svg
            fill: $turbo_brown

        .breadcrumb__label
            textLink($turbo_brown, nohover)

//- /breadcrumbs }}}
// heading {{{
.heading__date
    color: $turbo_darkblue

.heading__details__label
    color: $turbo_darkblue

// /heading }}}

.vk__source__link
    textLink()

// /full_tour / full_post / full_vk_post pages }}}
// main page {{{
// first_glance {{{
.site_heading__wrap
    background-image: url(/img/main_bg.jpg)
    background-size: cover
    background-position: 80% 0%
    background-repeat: no-repeat

.site_heading__text_box
    background: $main_heading_bg

// /first_glance }}}
// recent_posts {{{
.recent_posts__wrap
    box-shadow: inset 0 -0.188rem 0.75rem -0.375rem $shadowy
    background-image: url(/img/card.png)
    background-color: $turbo_lightblue
    background-repeat: repeat
    background-blend-mode: soft-light

.recent_post__link
    color: $body_fg

// /recent_posts }}}
// news / vknews cards {{{

.card__link
    border-radius: $border-radius
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy
    background: white

.card__date
    color: $turbo_darkblue

.card__button
    border-radius: 0
    transition: all 0.2s ease
    color: $turbo_darkblue
    background: white

    &:hover
    &:focus
    .card:hover &
    .card:focus &
        color: white
        background: $turbo_darkblue

    &:active
    .card:active &
        background: $turbo_brown
        color: white

// /news / vknews cards }}}
// /main page }}}
// tours page {{{
// tours page nav {{{
.tours_nav__wrap
    background-image: url(/img/card.png)
    background-blend-mode: lighten
    background-repeat: repeat
    background-color: snow
    box-shadow: -0.05rem 0 1rem -0.25rem $shadowy

.tours_nav__section_header
    color: $turbo_brown

.tours_nav__tours-count
    opacity: 0.5

.tours_nav__link
    &:hover
    &:focus
        background: $turbo_blue
        color: white

    &:active
    &.active
        background: $turbo_brown
        color: white
        box-shadow: 0 0.1rem 0.4rem 0rem $shadowy

.tours_nav__link--subtag
    background-color: $turbo_lightblue

    &--last
        box-shadow: inset 0 -0.4rem 0.4rem -0.5rem $shadowy

// /tours page nav }}}
// tours list {{{
.tours__section_header
    background: transparent

.tours-tag-info__wrap
    background-image: url(/img/card.png)
    background-color: ivory
    background-repeat: repeat
    background-blend-mode: soft-light

.tours-tag-info__wrap
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy

// /tours list }}}

.tours__count
    color: $turbo_blue

// /tours page }}}
// about / guide page {{{
.guide-form__wrap
    background: white
    border-radius: $border-radius
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy

.guide-info__wrap
    background: white
    border-radius: $border-radius
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy

.guide__card
    border-radius: $border-radius

// /about / guide page }}}
// contact page {{{
.contacts__wrap
    border-radius: $border-radius
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy
    background: white

.map__img
    filter: grayscale(.25)

// /contact page }}}
// testimonials page {{{

.testimonial
    border-radius: $border-radius
    box-shadow: 0 0.2rem 1rem -0.25rem $shadowy
    background: white

.testimonial__svg__path
    fill: $turbo_lightblue

.testimonial__footer
    background: $turbo_blue

.testimonial__date
.testimonial__name
    color: white

// /testimonials page }}}

